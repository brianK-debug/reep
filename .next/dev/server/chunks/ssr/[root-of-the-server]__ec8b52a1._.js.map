{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Documents/NextJS%20Projects/gamified-learning-system/lib/db.ts"],"sourcesContent":["import { neon } from \"@neondatabase/serverless\"\n\nconst sql = neon(process.env.DATABASE_URL!)\n\nexport default sql\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,IAAA,8JAAI,EAAC,QAAQ,GAAG,CAAC,YAAY;uCAE1B"}},
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Documents/NextJS%20Projects/gamified-learning-system/lib/auth.ts"],"sourcesContent":["import { cookies } from \"next/headers\"\nimport { SignJWT, jwtVerify } from \"jose\"\n\nconst secret = new TextEncoder().encode(process.env.JWT_SECRET || \"reep-secret-key-change-in-production\")\n\nexport interface User {\n  id: number\n  email: string\n  full_name: string\n  role: \"student\" | \"teacher\" | \"admin\"\n  avatar_url?: string\n  points: number\n  level: number\n}\n\nexport async function hashPassword(password: string): Promise<string> {\n  const bcrypt = await import(\"bcryptjs\")\n  return bcrypt.default.hash(password, 10)\n}\n\nexport async function verifyPassword(password: string, hash: string): Promise<boolean> {\n  const bcrypt = await import(\"bcryptjs\")\n  return bcrypt.default.compare(password, hash)\n}\n\nexport async function createToken(user: User): Promise<string> {\n  return new SignJWT({ user }).setProtectedHeader({ alg: \"HS256\" }).setExpirationTime(\"7d\").sign(secret)\n}\n\nexport async function verifyToken(token: string): Promise<User | null> {\n  try {\n    const { payload } = await jwtVerify(token, secret)\n    return payload.user as User\n  } catch {\n    return null\n  }\n}\n\nexport async function getSession(): Promise<User | null> {\n  const cookieStore = await cookies()\n  const token = cookieStore.get(\"auth-token\")\n\n  if (!token) {\n    return null\n  }\n\n  return verifyToken(token.value)\n}\n\nexport async function setSession(user: User): Promise<void> {\n  const token = await createToken(user)\n  const cookieStore = await cookies()\n\n  cookieStore.set(\"auth-token\", token, {\n    httpOnly: true,\n    secure: process.env.NODE_ENV === \"production\",\n    sameSite: \"lax\",\n    maxAge: 60 * 60 * 24 * 7, // 7 days\n    path: \"/\",\n  })\n}\n\nexport async function clearSession(): Promise<void> {\n  const cookieStore = await cookies()\n  cookieStore.delete(\"auth-token\")\n}\n\nexport async function requireAuth(): Promise<User> {\n  const user = await getSession()\n\n  if (!user) {\n    throw new Error(\"Unauthorized\")\n  }\n\n  return user\n}\n\nexport async function requireRole(role: \"student\" | \"teacher\" | \"admin\"): Promise<User> {\n  const user = await requireAuth()\n\n  if (user.role !== role && user.role !== \"admin\") {\n    throw new Error(\"Forbidden\")\n  }\n\n  return user\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AACA;AAAA;;;AAEA,MAAM,SAAS,IAAI,cAAc,MAAM,CAAC,QAAQ,GAAG,CAAC,UAAU,IAAI;AAY3D,eAAe,aAAa,QAAgB;IACjD,MAAM,SAAS;IACf,OAAO,OAAO,OAAO,CAAC,IAAI,CAAC,UAAU;AACvC;AAEO,eAAe,eAAe,QAAgB,EAAE,IAAY;IACjE,MAAM,SAAS;IACf,OAAO,OAAO,OAAO,CAAC,OAAO,CAAC,UAAU;AAC1C;AAEO,eAAe,YAAY,IAAU;IAC1C,OAAO,IAAI,gKAAO,CAAC;QAAE;IAAK,GAAG,kBAAkB,CAAC;QAAE,KAAK;IAAQ,GAAG,iBAAiB,CAAC,MAAM,IAAI,CAAC;AACjG;AAEO,eAAe,YAAY,KAAa;IAC7C,IAAI;QACF,MAAM,EAAE,OAAO,EAAE,GAAG,MAAM,IAAA,oKAAS,EAAC,OAAO;QAC3C,OAAO,QAAQ,IAAI;IACrB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,MAAM,QAAQ,YAAY,GAAG,CAAC;IAE9B,IAAI,CAAC,OAAO;QACV,OAAO;IACT;IAEA,OAAO,YAAY,MAAM,KAAK;AAChC;AAEO,eAAe,WAAW,IAAU;IACzC,MAAM,QAAQ,MAAM,YAAY;IAChC,MAAM,cAAc,MAAM,IAAA,0IAAO;IAEjC,YAAY,GAAG,CAAC,cAAc,OAAO;QACnC,UAAU;QACV,QAAQ,oDAAyB;QACjC,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK;QACvB,MAAM;IACR;AACF;AAEO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,0IAAO;IACjC,YAAY,MAAM,CAAC;AACrB;AAEO,eAAe;IACpB,MAAM,OAAO,MAAM;IAEnB,IAAI,CAAC,MAAM;QACT,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT;AAEO,eAAe,YAAY,IAAqC;IACrE,MAAM,OAAO,MAAM;IAEnB,IAAI,KAAK,IAAI,KAAK,QAAQ,KAAK,IAAI,KAAK,SAAS;QAC/C,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Documents/NextJS%20Projects/gamified-learning-system/app/actions/auth.ts"],"sourcesContent":["\"use server\"\n\nimport { redirect } from \"next/navigation\"\nimport sql from \"@/lib/db\"\nimport { hashPassword, verifyPassword, setSession, clearSession, getSession, type User } from \"@/lib/auth\"\n\nexport async function signUp(prevState: any, formData: FormData) {\n  const email = formData.get(\"email\") as string\n  const password = formData.get(\"password\") as string\n  const fullName = formData.get(\"fullName\") as string\n  const role = formData.get(\"role\") as string\n\n  if (!email || !password || !fullName || !role) {\n    return { error: \"All fields are required\" }\n  }\n\n  if (password.length < 8) {\n    return { error: \"Password must be at least 8 characters\" }\n  }\n\n  if (![\"student\", \"teacher\"].includes(role)) {\n    return { error: \"Invalid role selected\" }\n  }\n\n  try {\n    // Check if user already exists\n    const existingUser = await sql`\n      SELECT id FROM users WHERE email = ${email}\n    `\n\n    if (existingUser.length > 0) {\n      return { error: \"User with this email already exists\" }\n    }\n\n    // Create new user\n    const passwordHash = await hashPassword(password)\n    const result = await sql`\n      INSERT INTO users (email, password_hash, full_name, role)\n      VALUES (${email}, ${passwordHash}, ${fullName}, ${role})\n      RETURNING id, email, full_name, role, avatar_url, points, level\n    `\n\n    const user = result[0] as User\n\n    await setSession(user)\n    return { success: \"Account created successfully! Welcome to REEP.\" }\n  } catch (error) {\n    console.error(\"[v0] Sign up error:\", error)\n    return { error: \"Failed to create account. Please try again.\" }\n  }\n}\n\nexport async function signIn(prevState: any, formData: FormData) {\n  const email = formData.get(\"email\") as string\n  const password = formData.get(\"password\") as string\n\n  if (!email || !password) {\n    return { error: \"Email and password are required\" }\n  }\n\n  let user: User & { password_hash: string } | null = null\n\n  try {\n    const result = await sql`\n      SELECT id, email, password_hash, full_name, role, avatar_url, points, level\n      FROM users\n      WHERE email = ${email}\n    `\n\n    if (result.length === 0) {\n      return { error: \"Invalid email or password\" }\n    }\n\n    user = result[0] as User & { password_hash: string }\n\n    const isValid = await verifyPassword(password, user.password_hash)\n\n    if (!isValid) {\n      return { error: \"Invalid email or password\" }\n    }\n\n    const { password_hash, ...userWithoutPassword } = user\n\n    await setSession(userWithoutPassword as User)\n    return { success: \"Signed in successfully! Redirecting...\", role: user!.role }\n  }\n  catch (error) {\n    console.error(\"[v0] Sign in error:\", error)\n    return { error: \"Failed to sign in. Please try again.\" }\n  }\n}\n\nexport async function signOut() {\n  await clearSession()\n  redirect(\"/\")\n}\n\nexport async function getCurrentUser() {\n  return await getSession()\n}\n"],"names":[],"mappings":";;;;;;;;;;;AAEA;AAAA;AACA;AACA;;;;;;AAEO,eAAe,OAAO,SAAc,EAAE,QAAkB;IAC7D,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,WAAW,SAAS,GAAG,CAAC;IAC9B,MAAM,OAAO,SAAS,GAAG,CAAC;IAE1B,IAAI,CAAC,SAAS,CAAC,YAAY,CAAC,YAAY,CAAC,MAAM;QAC7C,OAAO;YAAE,OAAO;QAA0B;IAC5C;IAEA,IAAI,SAAS,MAAM,GAAG,GAAG;QACvB,OAAO;YAAE,OAAO;QAAyC;IAC3D;IAEA,IAAI,CAAC;QAAC;QAAW;KAAU,CAAC,QAAQ,CAAC,OAAO;QAC1C,OAAO;YAAE,OAAO;QAAwB;IAC1C;IAEA,IAAI;QACF,+BAA+B;QAC/B,MAAM,eAAe,MAAM,oHAAG,CAAC;yCACM,EAAE,MAAM;IAC7C,CAAC;QAED,IAAI,aAAa,MAAM,GAAG,GAAG;YAC3B,OAAO;gBAAE,OAAO;YAAsC;QACxD;QAEA,kBAAkB;QAClB,MAAM,eAAe,MAAM,IAAA,2HAAY,EAAC;QACxC,MAAM,SAAS,MAAM,oHAAG,CAAC;;cAEf,EAAE,MAAM,EAAE,EAAE,aAAa,EAAE,EAAE,SAAS,EAAE,EAAE,KAAK;;IAEzD,CAAC;QAED,MAAM,OAAO,MAAM,CAAC,EAAE;QAEtB,MAAM,IAAA,yHAAU,EAAC;QACjB,OAAO;YAAE,SAAS;QAAiD;IACrE,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;YAAE,OAAO;QAA8C;IAChE;AACF;AAEO,eAAe,OAAO,SAAc,EAAE,QAAkB;IAC7D,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,IAAI,CAAC,SAAS,CAAC,UAAU;QACvB,OAAO;YAAE,OAAO;QAAkC;IACpD;IAEA,IAAI,OAAgD;IAEpD,IAAI;QACF,MAAM,SAAS,MAAM,oHAAG,CAAC;;;oBAGT,EAAE,MAAM;IACxB,CAAC;QAED,IAAI,OAAO,MAAM,KAAK,GAAG;YACvB,OAAO;gBAAE,OAAO;YAA4B;QAC9C;QAEA,OAAO,MAAM,CAAC,EAAE;QAEhB,MAAM,UAAU,MAAM,IAAA,6HAAc,EAAC,UAAU,KAAK,aAAa;QAEjE,IAAI,CAAC,SAAS;YACZ,OAAO;gBAAE,OAAO;YAA4B;QAC9C;QAEA,MAAM,EAAE,aAAa,EAAE,GAAG,qBAAqB,GAAG;QAElD,MAAM,IAAA,yHAAU,EAAC;QACjB,OAAO;YAAE,SAAS;YAA0C,MAAM,KAAM,IAAI;QAAC;IAC/E,EACA,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,uBAAuB;QACrC,OAAO;YAAE,OAAO;QAAuC;IACzD;AACF;AAEO,eAAe;IACpB,MAAM,IAAA,2HAAY;IAClB,IAAA,iMAAQ,EAAC;AACX;AAEO,eAAe;IACpB,OAAO,MAAM,IAAA,yHAAU;AACzB;;;IA7FsB;IA8CA;IAwCA;IAKA;;AA3FA,+OAAA;AA8CA,+OAAA;AAwCA,+OAAA;AAKA,+OAAA"}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Documents/NextJS%20Projects/gamified-learning-system/app/actions/courses.ts"],"sourcesContent":["\"use server\"\n\nimport { redirect } from \"next/navigation\"\nimport sql from \"@/lib/db\"\nimport { revalidatePath } from \"next/cache\"\nimport { writeFile, mkdir } from \"fs/promises\"\nimport { join } from \"path\"\nimport { randomUUID } from \"crypto\"\n\nexport async function createCourse(formData: {\n  title: string\n  description: string\n  difficulty: string\n  points_reward: number\n  thumbnail_url?: string\n  teacher_id: number | string\n  is_published: boolean\n}) {\n  try {\n    const result = await sql`\n      INSERT INTO courses (title, description, difficulty, points_reward, thumbnail_url, teacher_id, is_published)\n      VALUES (\n        ${formData.title},\n        ${formData.description},\n        ${formData.difficulty},\n        ${formData.points_reward},\n        ${formData.thumbnail_url || null},\n        ${parseInt(formData.teacher_id.toString())},\n        ${formData.is_published}\n      )\n      RETURNING id\n    `\n\n    const courseId = result[0].id\n\n    // Create modules\n    const modules = [\n      { title: 'Course Introduction', description: 'Get started with this course and understand what you will learn', order_index: 1 },\n      { title: 'Core Concepts', description: 'Learn the fundamental concepts and principles', order_index: 2 },\n      { title: 'Practical Application', description: 'Apply what you have learned through hands-on exercises', order_index: 3 },\n      { title: 'Advanced Topics', description: 'Explore advanced concepts and best practices', order_index: 4 }\n    ]\n\n    const moduleIds = []\n    for (const module of modules) {\n      const moduleResult = await sql`\n        INSERT INTO modules (course_id, title, description, order_index)\n        VALUES (${courseId}, ${module.title}, ${module.description}, ${module.order_index})\n        RETURNING id\n      `\n      moduleIds.push(moduleResult[0].id)\n    }\n\n    // Create lessons for each module\n    const lessons = [\n      // Module 1: Introduction\n      [\n        {\n          title: 'Welcome to the Course',\n          content: `Welcome to ${formData.title}!\n\nThis course will guide you through the essential concepts and skills you need to succeed. By the end of this course, you will have a solid understanding of the topic and be able to apply what you've learned.\n\nWhat you will learn:\n- Fundamental concepts and principles\n- Practical applications and examples\n- Best practices and common patterns\n- Hands-on exercises and projects\n\nLet's get started on this learning journey!`,\n          points_reward: 5\n        },\n        {\n          title: 'Course Overview and Objectives',\n          content: `In this lesson, we will explore:\n\n• The main topics covered in this course\n• Learning objectives and outcomes\n• Prerequisites and requirements\n• Course structure and progression\n• Assessment methods and grading criteria\n\nUnderstanding these elements will help you make the most of your learning experience.`,\n          points_reward: 5\n        }\n      ],\n      // Module 2: Core Concepts\n      [\n        {\n          title: 'Fundamental Principles',\n          content: `Let's dive into the core principles that form the foundation of this subject.\n\nKey concepts covered:\n• Basic terminology and definitions\n• Core principles and theories\n• Fundamental relationships and dependencies\n• Common patterns and structures\n\nThese foundational concepts will be referenced throughout the course.`,\n          points_reward: 5\n        },\n        {\n          title: 'Essential Concepts',\n          content: `Building on the fundamentals, this lesson covers essential concepts that are critical to understanding the subject.\n\nTopics include:\n• Key frameworks and models\n• Important relationships and interactions\n• Critical thinking approaches\n• Problem-solving methodologies\n\nMastering these concepts will give you a strong foundation for advanced topics.`,\n          points_reward: 5\n        }\n      ],\n      // Module 3: Practical Application\n      [\n        {\n          title: 'Hands-on Practice',\n          content: `Now it's time to apply what you've learned through practical exercises.\n\nIn this lesson, you will:\n• Work through guided examples\n• Complete interactive exercises\n• Apply concepts to real-world scenarios\n• Receive immediate feedback on your work\n\nPractice is essential for reinforcing learning and building confidence.`,\n          points_reward: 10\n        },\n        {\n          title: 'Project Work',\n          content: `This lesson focuses on applying your knowledge to a comprehensive project.\n\nProject components:\n• Planning and design phase\n• Implementation and development\n• Testing and validation\n• Documentation and presentation\n\nCompleting this project will demonstrate your mastery of the course material.`,\n          points_reward: 10\n        }\n      ],\n      // Module 4: Advanced Topics\n      [\n        {\n          title: 'Advanced Concepts',\n          content: `Explore advanced topics and cutting-edge developments in the field.\n\nAdvanced topics covered:\n• Emerging trends and technologies\n• Complex problem-solving scenarios\n• Integration with other systems\n• Future directions and possibilities\n\nThese advanced concepts will prepare you for professional applications.`,\n          points_reward: 5\n        },\n        {\n          title: 'Best Practices and Next Steps',\n          content: `This final lesson covers best practices and provides guidance for continued learning.\n\nTopics include:\n• Industry best practices and standards\n• Common pitfalls and how to avoid them\n• Resources for further learning\n• Career applications and opportunities\n• Staying current with developments\n\nCongratulations on completing this course!`,\n          points_reward: 5\n        }\n      ]\n    ]\n\n    for (let i = 0; i < lessons.length; i++) {\n      const moduleLessons = lessons[i]\n      for (let j = 0; j < moduleLessons.length; j++) {\n        const lesson = moduleLessons[j]\n        await sql`\n          INSERT INTO lessons (module_id, title, content, video_url, order_index, points_reward)\n          VALUES (\n            ${moduleIds[i]},\n            ${lesson.title},\n            ${lesson.content},\n            null,\n            ${j + 1},\n            ${lesson.points_reward}\n          )\n        `\n      }\n    }\n\n    // Create quizzes for modules (one quiz per module)\n    for (let i = 0; i < moduleIds.length; i++) {\n      const moduleId = moduleIds[i]\n      const quizResult = await sql`\n        INSERT INTO quizzes (module_id, title, passing_score, points_reward)\n        VALUES (\n          ${moduleId},\n          'Module ${i + 1} Assessment',\n          70,\n          10\n        )\n        RETURNING id\n      `\n\n      const quizId = quizResult[0].id\n\n      // Add sample questions\n      const questions = [\n        {\n          question: 'What is the main concept covered in this module?',\n          options: '[\"Core principles\", \"Advanced topics\", \"Practical application\", \"Introduction\"]',\n          correct_answer: 'Core principles'\n        },\n        {\n          question: 'Which of the following is a key learning objective?',\n          options: '[\"Understanding fundamentals\", \"Memorizing facts\", \"Following instructions\", \"Completing assignments\"]',\n          correct_answer: 'Understanding fundamentals'\n        },\n        {\n          question: 'What should you do to master the material?',\n          options: '[\"Practice regularly\", \"Skip exercises\", \"Only read content\", \"Memorize answers\"]',\n          correct_answer: 'Practice regularly'\n        }\n      ]\n\n      for (let q = 0; q < questions.length; q++) {\n        await sql`\n          INSERT INTO quiz_questions (quiz_id, question, options, correct_answer, order_index)\n          VALUES (\n            ${quizId},\n            ${questions[q].question},\n            ${questions[q].options},\n            ${questions[q].correct_answer},\n            ${q + 1}\n          )\n        `\n      }\n    }\n\n    revalidatePath(\"/admin/courses\")\n    revalidatePath(\"/tutor\")\n    return { success: true, courseId }\n  } catch (error) {\n    console.error(\"[v0] Create course error:\", error)\n    return { success: false, error: \"Failed to create course\" }\n  }\n}\n\nexport async function updateCourse(courseId: number, formData: {\n  title: string\n  description: string\n  difficulty: string\n  points_reward: number\n  thumbnail_url?: string\n  teacher_id: number | string\n  is_published: boolean\n}) {\n  try {\n    await sql`\n      UPDATE courses\n      SET title = ${formData.title},\n          description = ${formData.description},\n          difficulty = ${formData.difficulty},\n          points_reward = ${formData.points_reward},\n          thumbnail_url = ${formData.thumbnail_url || null},\n          teacher_id = ${parseInt(formData.teacher_id.toString())},\n          is_published = ${formData.is_published}\n      WHERE id = ${courseId}\n    `\n\n    revalidatePath(\"/admin/courses\")\n    revalidatePath(`/admin/courses/${courseId}/edit`)\n    return { success: true }\n  } catch (error) {\n    console.error(\"[v0] Update course error:\", error)\n    return { success: false, error: \"Failed to update course\" }\n  }\n}\n\nexport async function enrollInCourse(formData: FormData) {\n  const courseId = Number.parseInt(formData.get(\"courseId\") as string)\n  const userId = Number.parseInt(formData.get(\"userId\") as string)\n\n  try {\n    await sql`\n      INSERT INTO enrollments (user_id, course_id)\n      VALUES (${userId}, ${courseId})\n    `\n\n    // Award achievement to student\n    await sql`\n      INSERT INTO achievements (user_id, type, title, description, points_earned)\n      VALUES (\n        ${userId},\n        'course_enrolled',\n        'New Course Enrolled',\n        'Started a new learning journey',\n        5\n      )\n    `\n\n    // Update student points\n    await sql`\n      UPDATE users\n      SET points = points + 5\n      WHERE id = ${userId}\n    `\n\n    // Check for Knowledge Seeker badge for student\n    const enrollmentCount = await sql`\n      SELECT COUNT(DISTINCT course_id) as count FROM enrollments WHERE user_id = ${userId}\n    `\n\n    if (enrollmentCount[0].count >= 3) {\n      const badge = await sql`\n        SELECT id FROM badges WHERE name = 'Knowledge Seeker'\n      `\n\n      if (badge.length > 0) {\n        await sql`\n          INSERT INTO user_badges (user_id, badge_id)\n          VALUES (${userId}, ${badge[0].id})\n          ON CONFLICT DO NOTHING\n        `\n      }\n    }\n\n    // Check for Popular Teacher badge\n    const teacherData = await sql`\n      SELECT teacher_id FROM courses WHERE id = ${courseId}\n    `\n\n    if (teacherData.length > 0) {\n      const teacherId = teacherData[0].teacher_id\n\n      const totalEnrollments = await sql`\n        SELECT COUNT(*) as count\n        FROM enrollments e\n        JOIN courses c ON e.course_id = c.id\n        WHERE c.teacher_id = ${teacherId}\n      `\n\n      if (totalEnrollments[0].count >= 10) {\n        const badge = await sql`\n          SELECT id FROM badges WHERE name = 'Popular Teacher'\n        `\n\n        if (badge.length > 0) {\n          await sql`\n            INSERT INTO user_badges (user_id, badge_id)\n            VALUES (${teacherId}, ${badge[0].id})\n            ON CONFLICT DO NOTHING\n          `\n        }\n      }\n    }\n\n    revalidatePath(`/courses/${courseId}`)\n    redirect(`/courses/${courseId}`)\n  } catch (error) {\n    console.error(\"[v0] Enrollment error:\", error)\n  }\n\n  revalidatePath(`/courses/${courseId}`)\n  redirect(`/courses/${courseId}`)\n}\n\nexport async function uploadCourseThumbnail(formData: FormData) {\n  try {\n    const file = formData.get(\"thumbnail\") as File\n\n    if (!file || file.size === 0) {\n      return { success: false, error: \"No file provided\" }\n    }\n\n    // Validate file type\n    if (!file.type.startsWith(\"image/\")) {\n      return { success: false, error: \"File must be an image\" }\n    }\n\n    // Validate file size (max 5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      return { success: false, error: \"File size must be less than 5MB\" }\n    }\n\n    // Generate unique filename\n    const fileExtension = file.name.split(\".\").pop()\n    const fileName = `${randomUUID()}.${fileExtension}`\n\n    // Create uploads directory if it doesn't exist\n    const uploadsDir = join(process.cwd(), \"public\", \"uploads\", \"courses\")\n    try {\n      await mkdir(uploadsDir, { recursive: true })\n    } catch (error) {\n      // Directory might already exist\n    }\n\n    // Save file\n    const filePath = join(uploadsDir, fileName)\n    const bytes = await file.arrayBuffer()\n    const buffer = Buffer.from(bytes)\n    await writeFile(filePath, buffer)\n\n    // Return the public URL\n    const publicUrl = `/uploads/courses/${fileName}`\n    return { success: true, url: publicUrl }\n  } catch (error) {\n    console.error(\"[v0] Upload error:\", error)\n    return { success: false, error: \"Failed to upload file\" }\n  }\n}\n\nexport async function createCourseWithContent(formData: {\n  title: string\n  description: string\n  difficulty: string\n  points_reward: number\n  thumbnail_url?: string\n  teacher_id: string\n  is_published: boolean\n  modules: Array<{\n    title: string\n    description: string\n    lessons: Array<{\n      title: string\n      content: string\n      points_reward: number\n    }>\n    quiz?: {\n      title: string\n      passing_score: number\n      points_reward: number\n      questions: Array<{\n        question: string\n        answers: string[]\n        correct_answer_index: number\n      }>\n    }\n  }>\n}) {\n  try {\n    const result = await sql`\n      INSERT INTO courses (title, description, difficulty, points_reward, thumbnail_url, teacher_id, is_published)\n      VALUES (\n        ${formData.title},\n        ${formData.description},\n        ${formData.difficulty},\n        ${formData.points_reward},\n        ${formData.thumbnail_url || null},\n        ${parseInt(formData.teacher_id)},\n        ${formData.is_published}\n      )\n      RETURNING id\n    `\n\n    const courseId = result[0].id\n\n    // Create modules and their content\n    for (let i = 0; i < formData.modules.length; i++) {\n      const module = formData.modules[i]\n\n      const moduleResult = await sql`\n        INSERT INTO modules (course_id, title, description, order_index)\n        VALUES (${courseId}, ${module.title}, ${module.description}, ${i + 1})\n        RETURNING id\n      `\n\n      const moduleId = moduleResult[0].id\n\n      // Create lessons\n      for (let j = 0; j < module.lessons.length; j++) {\n        const lesson = module.lessons[j]\n\n        await sql`\n          INSERT INTO lessons (module_id, title, content, video_url, order_index, points_reward)\n          VALUES (\n            ${moduleId},\n            ${lesson.title},\n            ${lesson.content},\n            null,\n            ${j + 1},\n            ${lesson.points_reward}\n          )\n        `\n      }\n\n      // Create quiz if provided at module level\n      if (module.quiz) {\n        const quizResult = await sql`\n          INSERT INTO quizzes (module_id, title, passing_score, points_reward)\n          VALUES (\n            ${moduleId},\n            ${module.quiz.title},\n            ${module.quiz.passing_score},\n            ${module.quiz.points_reward}\n          )\n          RETURNING id\n        `\n\n        const quizId = quizResult[0].id\n\n        // Create questions\n        for (let k = 0; k < module.quiz.questions.length; k++) {\n          const question = module.quiz.questions[k]\n          const optionsJson = JSON.stringify(question.answers)\n          const correctAnswer = String.fromCharCode(65 + question.correct_answer_index) // A, B, C, D\n\n          await sql`\n            INSERT INTO quiz_questions (quiz_id, question, options, correct_answer, order_index)\n            VALUES (\n              ${quizId},\n              ${question.question},\n              ${optionsJson},\n              ${correctAnswer},\n              ${k + 1}\n            )\n          `\n        }\n      }\n    }\n\n    revalidatePath(\"/tutor\")\n    return { success: true, courseId }\n  } catch (error) {\n    console.error(\"[v0] Create course with content error:\", error)\n    return { success: false, error: \"Failed to create course\" }\n  }\n}\n\nexport async function completeLesson(formData: FormData) {\n  const lessonId = Number.parseInt(formData.get(\"lessonId\") as string)\n  const userId = Number.parseInt(formData.get(\"userId\") as string)\n  const courseId = Number.parseInt(formData.get(\"courseId\") as string)\n\n  try {\n    // Check if already completed\n    const existing = await sql`\n      SELECT * FROM lesson_progress\n      WHERE user_id = ${userId} AND lesson_id = ${lessonId}\n    `\n\n    if (existing.length > 0) {\n      return { success: false, error: \"Already completed\" }\n    }\n\n    // Mark lesson as complete\n    await sql`\n      INSERT INTO lesson_progress (user_id, lesson_id, completed, completed_at)\n      VALUES (${userId}, ${lessonId}, true, NOW())\n    `\n\n    // Get lesson points\n    const lessons = await sql`\n      SELECT points_reward FROM lessons WHERE id = ${lessonId}\n    `\n\n    const pointsReward = lessons[0]?.points_reward || 5\n\n    // Award points to student\n    await sql`\n      UPDATE users\n      SET points = points + ${pointsReward}\n      WHERE id = ${userId}\n    `\n\n    // Award points to teacher (1 point per lesson completion)\n    const teacherData = await sql`\n      SELECT c.teacher_id\n      FROM courses c\n      JOIN modules m ON c.id = m.course_id\n      JOIN lessons l ON m.id = l.module_id\n      WHERE l.id = ${lessonId}\n    `\n\n    if (teacherData.length > 0) {\n      const teacherId = teacherData[0].teacher_id\n      await sql`\n        UPDATE users\n        SET points = points + 1\n        WHERE id = ${teacherId}\n      `\n      await updateUserLevel(teacherId)\n    }\n\n    await updateUserLevel(userId)\n\n    await updateStreak(userId)\n\n    await updateDailyChallengeProgress(userId, \"lessons_completed\", 1)\n\n    // Create achievement for student\n    await sql`\n      INSERT INTO achievements (user_id, type, title, description, points_earned)\n      VALUES (\n        ${userId},\n        'lesson_completed',\n        'Lesson Complete',\n        'Completed a lesson',\n        ${pointsReward}\n      )\n    `\n\n    // Check if user should get \"First Steps\" badge\n    const lessonCount = await sql`\n      SELECT COUNT(*) as count FROM lesson_progress\n      WHERE user_id = ${userId} AND completed = true\n    `\n\n    if (lessonCount[0].count === 1) {\n      const badge = await sql`\n        SELECT id FROM badges WHERE name = 'First Steps'\n      `\n\n      if (badge.length > 0) {\n        await sql`\n          INSERT INTO user_badges (user_id, badge_id)\n          VALUES (${userId}, ${badge[0].id})\n          ON CONFLICT DO NOTHING\n        `\n      }\n    }\n\n    // Check if module is completed\n    const moduleCompletion = await checkModuleCompletion(userId, lessonId)\n\n    // Update course progress\n    await updateCourseProgress(userId, courseId)\n\n    revalidatePath(`/courses/${courseId}/lessons/${lessonId}`)\n    revalidatePath(`/courses/${courseId}`)\n    revalidatePath(\"/dashboard\")\n    return {\n      success: true,\n      pointsEarned: pointsReward,\n      moduleCompleted: moduleCompletion.completed,\n      moduleTitle: moduleCompletion.title,\n      modulePoints: moduleCompletion.points\n    }\n  } catch (error) {\n    console.error(\"[v0] Complete lesson error:\", error)\n    return { success: false, error: \"Failed to complete lesson\" }\n  }\n}\n\nexport async function submitQuiz(formData: FormData) {\n  const quizId = Number.parseInt(formData.get(\"quizId\") as string)\n  const userId = Number.parseInt(formData.get(\"userId\") as string)\n  const lessonId = Number.parseInt(formData.get(\"lessonId\") as string)\n  const courseId = Number.parseInt(formData.get(\"courseId\") as string)\n  const answersJson = formData.get(\"answers\") as string\n  const answers = JSON.parse(answersJson)\n\n  try {\n    // Get quiz details and questions\n    const quizzes = await sql`\n      SELECT * FROM quizzes WHERE id = ${quizId}\n    `\n\n    const quiz = quizzes[0]\n\n    const questions = await sql`\n      SELECT * FROM quiz_questions WHERE quiz_id = ${quizId}\n    `\n\n    // Calculate score\n    let correctCount = 0\n    questions.forEach((q) => {\n      if (answers[q.id] === q.correct_answer) {\n        correctCount++\n      }\n    })\n\n    const score = Math.round((correctCount / questions.length) * 100)\n    const passed = score >= quiz.passing_score\n\n    // Record attempt\n    await sql`\n      INSERT INTO quiz_attempts (user_id, quiz_id, score, answers, passed)\n      VALUES (${userId}, ${quizId}, ${score}, ${answersJson}, ${passed})\n    `\n\n    if (passed) {\n      // Award points\n      await sql`\n        UPDATE users \n        SET points = points + ${quiz.points_reward}\n        WHERE id = ${userId}\n      `\n\n      // Create achievement\n      await sql`\n        INSERT INTO achievements (user_id, type, title, description, points_earned)\n        VALUES (\n          ${userId}, \n          'quiz_passed', \n          'Quiz Passed',\n          'Successfully passed a quiz',\n          ${quiz.points_reward}\n        )\n      `\n\n      // Check for Quiz Master badge\n      const perfectQuizzes = await sql`\n        SELECT COUNT(*) as count FROM quiz_attempts\n        WHERE user_id = ${userId} AND score = 100\n      `\n\n      if (perfectQuizzes[0].count >= 3) {\n        const badge = await sql`\n          SELECT id FROM badges WHERE name = 'Quiz Master'\n        `\n\n        if (badge.length > 0) {\n          await sql`\n            INSERT INTO user_badges (user_id, badge_id)\n            VALUES (${userId}, ${badge[0].id})\n            ON CONFLICT DO NOTHING\n          `\n        }\n      }\n    }\n\n    revalidatePath(`/courses/${courseId}/lessons/${lessonId}`)\n    return { success: true, score, passed }\n  } catch (error) {\n    console.error(\"[v0] Submit quiz error:\", error)\n    return { success: false, error: \"Failed to submit quiz\" }\n  }\n}\n\nasync function updateCourseProgress(userId: number, courseId: number) {\n  // Get total lessons in course\n  const totalLessons = await sql`\n    SELECT COUNT(*) as count\n    FROM lessons l\n    JOIN modules m ON l.module_id = m.id\n    WHERE m.course_id = ${courseId}\n  `\n\n  // Get completed lessons\n  const completedLessons = await sql`\n    SELECT COUNT(*) as count\n    FROM lesson_progress lp\n    JOIN lessons l ON lp.lesson_id = l.id\n    JOIN modules m ON l.module_id = m.id\n    WHERE lp.user_id = ${userId} \n    AND m.course_id = ${courseId}\n    AND lp.completed = true\n  `\n\n  const total = totalLessons[0].count\n  const completed = completedLessons[0].count\n  const progress = total > 0 ? Math.round((completed / total) * 100) : 0\n\n  // Update enrollment\n  await sql`\n    UPDATE enrollments \n    SET progress = ${progress},\n        status = CASE WHEN ${progress} = 100 THEN 'completed' ELSE 'active' END,\n        completed_at = CASE WHEN ${progress} = 100 THEN NOW() ELSE NULL END\n    WHERE user_id = ${userId} AND course_id = ${courseId}\n  `\n\n  // If completed, award course completion points\n  if (progress === 100) {\n    const courses = await sql`\n      SELECT points_reward, teacher_id FROM courses WHERE id = ${courseId}\n    `\n\n    const pointsReward = courses[0]?.points_reward || 100\n    const teacherId = courses[0]?.teacher_id\n\n    // Award points to student\n    await sql`\n      UPDATE users\n      SET points = points + ${pointsReward}\n      WHERE id = ${userId}\n    `\n\n    // Award points to teacher (10 points per course completion)\n    if (teacherId) {\n      await sql`\n        UPDATE users\n        SET points = points + 10\n        WHERE id = ${teacherId}\n      `\n      await updateUserLevel(teacherId)\n    }\n\n    await sql`\n      INSERT INTO achievements (user_id, type, title, description, points_earned)\n      VALUES (\n        ${userId},\n        'course_completed',\n        'Course Complete',\n        'Finished an entire course',\n        ${pointsReward}\n      )\n    `\n\n    // Check for Course Champion badge for student\n    const badge = await sql`\n      SELECT id FROM badges WHERE name = 'Course Champion'\n    `\n\n    if (badge.length > 0) {\n      await sql`\n        INSERT INTO user_badges (user_id, badge_id)\n        VALUES (${userId}, ${badge[0].id})\n        ON CONFLICT DO NOTHING\n      `\n    }\n\n    // Check for teacher badges\n    if (teacherId) {\n      const totalCompletions = await sql`\n        SELECT COUNT(*) as count\n        FROM enrollments e\n        JOIN courses c ON e.course_id = c.id\n        WHERE c.teacher_id = ${teacherId} AND e.status = 'completed'\n      `\n\n      const completionCount = totalCompletions[0].count\n\n      // Effective Teacher (5 completions)\n      if (completionCount >= 5) {\n        const badge = await sql`\n          SELECT id FROM badges WHERE name = 'Effective Teacher'\n        `\n\n        if (badge.length > 0) {\n          await sql`\n            INSERT INTO user_badges (user_id, badge_id)\n            VALUES (${teacherId}, ${badge[0].id})\n            ON CONFLICT DO NOTHING\n          `\n        }\n      }\n\n      // Master Educator (20 completions)\n      if (completionCount >= 20) {\n        const badge = await sql`\n          SELECT id FROM badges WHERE name = 'Master Educator'\n        `\n\n        if (badge.length > 0) {\n          await sql`\n            INSERT INTO user_badges (user_id, badge_id)\n            VALUES (${teacherId}, ${badge[0].id})\n            ON CONFLICT DO NOTHING\n          `\n        }\n      }\n    }\n  }\n}\n\n// Helper function to check if module is completed\nasync function checkModuleCompletion(userId: number, lessonId: number) {\n  // Get the module for this lesson\n  const lessonData = await sql`\n    SELECT m.id, m.title\n    FROM lessons l\n    JOIN modules m ON l.module_id = m.id\n    WHERE l.id = ${lessonId}\n  `\n\n  if (lessonData.length === 0) return { completed: false }\n\n  const moduleId = lessonData[0].id\n  const moduleTitle = lessonData[0].title\n\n  // Get total lessons in module\n  const totalLessons = await sql`\n    SELECT COUNT(*) as count FROM lessons WHERE module_id = ${moduleId}\n  `\n\n  // Get completed lessons in module\n  const completedLessons = await sql`\n    SELECT COUNT(*) as count\n    FROM lesson_progress lp\n    JOIN lessons l ON lp.lesson_id = l.id\n    WHERE lp.user_id = ${userId}\n      AND l.module_id = ${moduleId}\n      AND lp.completed = true\n  `\n\n  const total = totalLessons[0].count\n  const completed = completedLessons[0].count\n\n  if (completed === total) {\n    // Module completed! Award points and create achievement\n    const modulePoints = 15 // Fixed points for module completion\n\n    await sql`\n      UPDATE users SET points = points + ${modulePoints} WHERE id = ${userId}\n    `\n\n    await sql`\n      INSERT INTO achievements (user_id, type, title, description, points_earned)\n      VALUES (\n        ${userId},\n        'module_completed',\n        'Module Master',\n        'Completed module: ${moduleTitle}',\n        ${modulePoints}\n      )\n    `\n\n    return { completed: true, title: moduleTitle, points: modulePoints }\n  }\n\n  return { completed: false }\n}\n\n// Helper function to update user level based on points\nasync function updateUserLevel(userId: number) {\n  const userData = await sql`\n    SELECT points, level FROM users WHERE id = ${userId}\n  `\n\n  if (userData.length === 0) return\n\n  const { points, level } = userData[0]\n\n  // Level calculation: level = floor(points / 100) + 1\n  const newLevel = Math.floor(points / 100) + 1\n\n  if (newLevel > level) {\n    await sql`\n      UPDATE users SET level = ${newLevel} WHERE id = ${userId}\n    `\n\n    // Award achievement for leveling up\n    await sql`\n      INSERT INTO achievements (user_id, type, title, description, points_earned)\n      VALUES (\n        ${userId}, \n        'level_up', \n        'Level Up!',\n        ${`Reached level ${newLevel}`},\n        10\n      )\n    `\n\n    // Check for level-based badges\n    if (newLevel === 5) {\n      const badge = await sql`SELECT id FROM badges WHERE name = 'Rising Star'`\n      if (badge.length > 0) {\n        await sql`\n          INSERT INTO user_badges (user_id, badge_id)\n          VALUES (${userId}, ${badge[0].id})\n          ON CONFLICT DO NOTHING\n        `\n      }\n    }\n\n    if (newLevel === 10) {\n      const badge = await sql`SELECT id FROM badges WHERE name = 'Overachiever'`\n      if (badge.length > 0) {\n        await sql`\n          INSERT INTO user_badges (user_id, badge_id)\n          VALUES (${userId}, ${badge[0].id})\n          ON CONFLICT DO NOTHING\n        `\n      }\n    }\n  }\n}\n\n// Helper function to update streak\nasync function updateStreak(userId: number) {\n  const today = new Date().toISOString().split(\"T\")[0]\n\n  const streakData = await sql`\n    SELECT * FROM user_streaks WHERE user_id = ${userId}\n  `\n\n  if (streakData.length === 0) {\n    // Create new streak\n    await sql`\n      INSERT INTO user_streaks (user_id, current_streak, longest_streak, last_activity_date)\n      VALUES (${userId}, 1, 1, ${today})\n    `\n  } else {\n    const streak = streakData[0]\n    const lastDate = streak.last_activity_date\n\n    if (lastDate === today) {\n      // Already updated today\n      return\n    }\n\n    const yesterday = new Date()\n    yesterday.setDate(yesterday.getDate() - 1)\n    const yesterdayStr = yesterday.toISOString().split(\"T\")[0]\n\n    if (lastDate === yesterdayStr) {\n      // Continuing streak\n      const newStreak = streak.current_streak + 1\n      const longestStreak = Math.max(newStreak, streak.longest_streak)\n\n      await sql`\n        UPDATE user_streaks \n        SET current_streak = ${newStreak},\n            longest_streak = ${longestStreak},\n            last_activity_date = ${today},\n            updated_at = NOW()\n        WHERE user_id = ${userId}\n      `\n\n      // Check for streak badges\n      if (newStreak === 7) {\n        const badge = await sql`SELECT id FROM badges WHERE name = 'Dedicated Learner'`\n        if (badge.length > 0) {\n          await sql`\n            INSERT INTO user_badges (user_id, badge_id)\n            VALUES (${userId}, ${badge[0].id})\n            ON CONFLICT DO NOTHING\n          `\n        }\n      }\n    } else {\n      // Streak broken, reset to 1\n      await sql`\n        UPDATE user_streaks \n        SET current_streak = 1,\n            last_activity_date = ${today},\n            updated_at = NOW()\n        WHERE user_id = ${userId}\n      `\n    }\n  }\n}\n\n// Helper function to update daily challenge progress\nasync function updateDailyChallengeProgress(userId: number, challengeType: string, increment: number) {\n  // Get active challenges of this type\n  const challenges = await sql`\n    SELECT id, target_value \n    FROM daily_challenges\n    WHERE challenge_type = ${challengeType}\n      AND start_date <= CURRENT_DATE \n      AND end_date >= CURRENT_DATE\n  `\n\n  for (const challenge of challenges) {\n    // Check if user has progress entry\n    const progress = await sql`\n      SELECT * FROM user_daily_challenges\n      WHERE user_id = ${userId} AND challenge_id = ${challenge.id}\n    `\n\n    if (progress.length === 0) {\n      // Create new progress entry\n      const newProgress = increment\n      const completed = newProgress >= challenge.target_value\n\n      await sql`\n        INSERT INTO user_daily_challenges (user_id, challenge_id, progress, completed, completed_at)\n        VALUES (${userId}, ${challenge.id}, ${newProgress}, ${completed}, ${completed ? \"NOW()\" : null})\n      `\n\n      if (completed) {\n        // Award points\n        const challengeData = await sql`\n          SELECT points_reward FROM daily_challenges WHERE id = ${challenge.id}\n        `\n        const pointsReward = challengeData[0]?.points_reward || 0\n\n        await sql`\n          UPDATE users SET points = points + ${pointsReward} WHERE id = ${userId}\n        `\n      }\n    } else if (!progress[0].completed) {\n      // Update existing progress\n      const newProgress = progress[0].progress + increment\n      const completed = newProgress >= challenge.target_value\n\n      await sql`\n        UPDATE user_daily_challenges\n        SET progress = ${newProgress},\n            completed = ${completed},\n            completed_at = ${completed ? \"NOW()\" : null}\n        WHERE user_id = ${userId} AND challenge_id = ${challenge.id}\n      `\n\n      if (completed) {\n        // Award points\n        const challengeData = await sql`\n          SELECT points_reward FROM daily_challenges WHERE id = ${challenge.id}\n        `\n        const pointsReward = challengeData[0]?.points_reward || 0\n\n        await sql`\n          UPDATE users SET points = points + ${pointsReward} WHERE id = ${userId}\n        `\n      }\n    }\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1300, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/PC/Documents/NextJS%20Projects/gamified-learning-system/.next-internal/server/app/courses/%5BcourseId%5D/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {signOut as '0044a30ae8491bb728c8f656bf10fcbbf971e0afc5'} from 'ACTIONS_MODULE0'\nexport {getCurrentUser as '00a5cca465185c46fe6f41459b63d52282a26df8d8'} from 'ACTIONS_MODULE0'\nexport {signUp as '604ee91a7414b788c9d4d79a3b01a27fe1f9906645'} from 'ACTIONS_MODULE0'\nexport {signIn as '609c0bfc21541e295b494afee4c0911da9f585e8e4'} from 'ACTIONS_MODULE0'\nexport {completeLesson as '40005978500ad6a4948b9b1ae6a3ad2ad1c60a2075'} from 'ACTIONS_MODULE1'\nexport {submitQuiz as '40024d419bc900a75cee8a5523b434d9b5604a84aa'} from 'ACTIONS_MODULE1'\nexport {createCourseWithContent as '404df110a63c4138751c6911c2f29861ce4a6bd62f'} from 'ACTIONS_MODULE1'\nexport {uploadCourseThumbnail as '407844702eb472feffee580215cc3dc426407b1146'} from 'ACTIONS_MODULE1'\nexport {createCourse as '409072d17d685db5ee19855f919dd5ed80f35fcc3e'} from 'ACTIONS_MODULE1'\nexport {enrollInCourse as '409a67d0d7a035533a91e509fc99c1ff2d1231860e'} from 'ACTIONS_MODULE1'\nexport {updateCourse as '60a9fb9da29c0ce114238b29ff8bb0ebb1bc79f058'} from 'ACTIONS_MODULE1'\n"],"names":[],"mappings":";AAAA;AAIA"}}]
}